// A very simple protocol definition, consisting of only
// one message.

syntax = "proto2";

message RGB {
    required int32 R = 1 [default = 0];
    required int32 G = 2 [default = 0];
    required int32 B = 3 [default = 0];
}

// MS3000 Global object
message MS3KG {
    message AP_INFO {
        required string networkName = 1;
        optional string password = 2;
    }

    optional Modes modes = 1;
    //optional AP_INFO apInfo = 2;


    message Modes {
        enum ModeTypes {
            Mode_MagicPov= 0;
            Mode_Light= 1;
            Mode_Magnet= 2;
            Mode_Values = 3;
            Mode_Remote =4;
            Mode_Beat= 5;
            Mode_Countdown= 6;
        }
        optional ModeTypes currentMode = 1;

        optional MagicPov magicPov = 2;
        optional Light light = 3;
        optional Magnet magnet = 4;
        optional Beat beat = 5;

        // MODE: magivPOV
        message MagicPov {
            optional string image = 1;
        }

        // MODE: Light
        message Light {
            enum LightMode {
                RAINBOW = 0;
                NORMAL = 1;
                SCANNER_RGB = 2;
                SCANNER_BW = 3;
            }

            optional LightMode subMode = 2;
            optional RGB color = 3;
        }

        message Beat {
            enum BeatMode {
                SIDE = 0;
                CENTER = 1;
            }

            optional BeatMode beatMode = 1 [ default = SIDE ];
            optional int32 sensitivity = 2 [ default = 2 ];
        }

        message Magnet {
            enum MagnetMode {
                BARS = 0;
                BARS_DOT = 1;
                DOTS = 2;
            }

            optional MagnetMode mode = 1 [ default = BARS ];
        }

    }
}

